(()=>{"use strict";const e=new class{constructor(){this.headers=new Headers,this.headers.append("Content-Type","application/json")}async postSubscribe(e){const t=JSON.stringify({email:e.email,name:e.name}),n={method:"POST",headers:this.headers,body:t,redirect:"follow"};try{return(await fetch("https://84l4s5m4ik.execute-api.ap-northeast-2.amazonaws.com/default/newso-subscribe",n).then((e=>e.json()))).body.result}catch(e){throw new Error(e)}}async addSubscriber(e){const t=await this.postSubscribe(e),{Ok:n,Value:o}=t;if(!n)return"failUnknown";const s=o;for(let e in s)if(0!==s[e].length)return e}};function t(e,t){t?t.querySelector(e).hidden=!1:document.querySelector(e).hidden=!1}function n(e,t){t?t.querySelector(e).hidden=!0:document.querySelector(e).hidden=!0}function o(e,t){document.querySelector(e).addEventListener("click",(()=>{n(t)}))}function s(e,n){document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",(()=>{t(n)}))}))}["/assets/images/color-icons/bn-hover-insta@2x.png","/assets/images/color-icons/bn-hover-facebook@2x.png","/assets/images/color-icons/bn-hover-data@2x.png","/assets/images/color-icons/bn-hover-kakaotalk@2x.png","/assets/images/color-icons/bn-hover-mail@2x.png"].forEach((e=>{const t=new Image;console.log(location.origin),t.src=window.location.origin+e})),s(".js-subscribe-open-btn",".overlay-subscribe"),s(".js-policy-open-btn",".overlay-policy"),s(".mo-menu-btn",".mo-menu-overlay"),o(".modal-exit",".overlay-subscribe"),o(".mo-menu-modal-exit",".mo-menu-overlay"),o(".modal-policy-exit",".overlay-policy"),document.querySelectorAll(".js-subscribe-form").forEach((o=>{!function(o){o.addEventListener("submit",(s=>{s.preventDefault(),async function(o,s){o.preventDefault(),t(".loading-sppiner",s);const r=s.querySelector(".result-message");!function(e){e.querySelectorAll(".error-text-container").forEach((e=>{e.style.display="none"}))}(r);const a=function(e){const t=e.querySelector(".js-email-input"),n=e.querySelector(".js-name-input");return{email:t.value,name:n.value}}(s),c=await e.addSubscriber(a);n(".loading-sppiner",s),function(e,t){const n=t.querySelector(".success"),o=t.querySelector(".fail"),s={update:{status:n,text:"입력하신 이메일 주소로 확인 메일을 보내드렸습니다."},success:{status:n,text:"입력하신 이메일 주소로 확인 메일을 보내드렸습니다."},failExistEmail:{status:o,text:"이미 구독 중인 이메일 주소입니다."},failUnknown:{status:o,text:"이런, 뭔가 잘못된 것 같습니다. 입력한 값을 다시 확인하세요."},default:{status:o,text:"이메일을 확인해주세요"}};!function({status:e,text:t}){e.querySelector(".result-message-text").innerText=t,e.style.display="flex"}(s[e]||s.default)}(c,r)}(s,o)}))}(o)}))})();